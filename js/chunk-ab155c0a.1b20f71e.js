(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-ab155c0a"],{"2a4d":function(t,e,n){"use strict";n("8856")},"408c":function(t,e,n){var a=n("2b3e"),r=function(){return a.Date.now()};t.exports=r},"4cef":function(t,e){var n=/\s/;function a(t){var e=t.length;while(e--&&n.test(t.charAt(e)));return e}t.exports=a},8856:function(t,e,n){},"8d74":function(t,e,n){var a=n("4cef"),r=/^\s+/;function o(t){return t?t.slice(0,a(t)+1).replace(r,""):t}t.exports=o},b047c:function(t,e,n){var a=n("1a8c"),r=n("408c"),o=n("b4b0"),i="Expected a function",c=Math.max,s=Math.min;function u(t,e,n){var u,f,l,d,p,m,g=0,v=!1,h=!1,b=!0;if("function"!=typeof t)throw new TypeError(i);function F(e){var n=u,a=f;return u=f=void 0,g=e,d=t.apply(a,n),d}function y(t){return g=t,p=setTimeout(k,e),v?F(t):d}function $(t){var n=t-m,a=t-g,r=e-n;return h?s(r,l-a):r}function x(t){var n=t-m,a=t-g;return void 0===m||n>=e||n<0||h&&a>=l}function k(){var t=r();if(x(t))return U(t);p=setTimeout(k,$(t))}function U(t){return p=void 0,b&&u?F(t):(u=f=void 0,d)}function w(){void 0!==p&&clearTimeout(p),g=0,u=m=f=p=void 0}function S(){return void 0===p?d:U(r())}function T(){var t=r(),n=x(t);if(u=arguments,f=this,m=t,n){if(void 0===p)return y(m);if(h)return clearTimeout(p),p=setTimeout(k,e),F(m)}return void 0===p&&(p=setTimeout(k,e)),d}return e=o(e)||0,a(n)&&(v=!!n.leading,h="maxWait"in n,l=h?c(o(n.maxWait)||0,e):l,b="trailing"in n?!!n.trailing:b),T.cancel=w,T.flush=S,T}t.exports=u},b3aa:function(t,e,n){},b4b0:function(t,e,n){var a=n("8d74"),r=n("1a8c"),o=n("ffd6"),i=NaN,c=/^[-+]0x[0-9a-f]+$/i,s=/^0b[01]+$/i,u=/^0o[0-7]+$/i,f=parseInt;function l(t){if("number"==typeof t)return t;if(o(t))return i;if(r(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=r(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=a(t);var n=s.test(t);return n||u.test(t)?f(t.slice(2),n?2:8):c.test(t)?i:+t}t.exports=l},c74d:function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t._self._c;return e("el-form",{ref:"dataForm",attrs:{model:t.dataForm,rules:t.dataRule,"label-width":"en-US"===t.$i18n.locale?"120px":"80px"},nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.dataFormSubmitHandle()}}},[e("el-form-item",{attrs:{label:"采集URL",prop:"gatherUrl"}},[e("el-input",{attrs:{placeholder:"采集URL"},model:{value:t.dataForm.gatherUrl,callback:function(e){t.$set(t.dataForm,"gatherUrl",e)},expression:"dataForm.gatherUrl"}})],1),e("el-form-item",{attrs:{label:"从第几页开始采",prop:"pageStart"}},[e("el-input",{attrs:{placeholder:"从第几页开始采"},model:{value:t.dataForm.pageStart,callback:function(e){t.$set(t.dataForm,"pageStart",e)},expression:"dataForm.pageStart"}})],1),e("el-form-item",{attrs:{label:"采到第几页",prop:"pageEnd"}},[e("el-input",{attrs:{placeholder:"采到第几页"},model:{value:t.dataForm.pageEnd,callback:function(e){t.$set(t.dataForm,"pageEnd",e)},expression:"dataForm.pageEnd"}})],1),e("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.dataFormSubmitHandle()}}},[t._v(t._s(t.$t("confirm")))]),e("el-button",{attrs:{type:"primary",disabled:1==t.dataForm.sysTask},on:{click:function(e){return t.all()}}},[t._v(t._s(t.btn))])],1)},r=[],o=n("5530"),i=(n("99af"),n("b047c")),c=n.n(i),s=n("a78e"),u=n.n(s),f={data:function(){return{visible:!1,url:"",adUrl:"",appLogo:"",btn:"采集全部",dataForm:{id:"",gatherUrl:"",pageStart:"",pageEnd:""}}},computed:{dataRule:function(){return{}}},created:function(){this.init(),this.url="".concat(window.SITE_CONFIG["apiURL"],"/sys/oss/upload?token=").concat(u.a.get("token"))},methods:{init:function(){var t=this;this.$nextTick((function(){t.$refs["dataForm"].resetFields(),t.getInfo()}))},beforeUploadHandle:function(t){return!0},successHandle:function(t,e){if(0!=t.code)return this.$message.error(t.msg);this.adUrl=t.data.src,this.dataForm.adUrl=t.data.src},beforeUploadHandleLogo:function(t){return!0},successHandleLogo:function(t,e){if(0!=t.code)return this.$message.error(t.msg);this.appLogo=t.data.src,this.dataForm.appLogo=t.data.src},getInfo:function(){var t=this;this.$http.get("/novelconfig/novelconfig/getInfo").then((function(e){var n=e.data;if(0!==n.code)return t.$message.error(n.msg);t.dataForm=Object(o["a"])(Object(o["a"])({},t.dataForm),n.data),1==t.dataForm.sysTask&&(t.btn="采集中")})).catch((function(){}))},all:function(){var t=this;this.$http.get("/novelconfig/novelconfig/all").then((function(e){var n=e.data;if(0!==n.code)return t.$message.error(n.msg);t.$message({message:"卖力采集中",type:"success"}),t.getInfo()})).catch((function(){}))},dataFormSubmitHandle:c()((function(){var t=this;this.$refs["dataForm"].validate((function(e){if(!e)return!1;t.$http[t.dataForm.id?"put":"post"]("/novelconfig/novelconfig/",t.dataForm).then((function(e){var n=e.data;if(0!==n.code)return t.$message.error(n.msg);t.$message({message:t.$t("prompt.success"),type:"success",duration:500,onClose:function(){t.visible=!1,t.$emit("refreshDataList")}})})).catch((function(){}))}))}),1e3,{leading:!0,trailing:!1})}},l=f,d=(n("2a4d"),n("ee0d"),n("2877")),p=Object(d["a"])(l,a,r,!1,null,null,null);e["default"]=p.exports},ee0d:function(t,e,n){"use strict";n("b3aa")},ffd6:function(t,e,n){var a=n("3729"),r=n("1310"),o="[object Symbol]";function i(t){return"symbol"==typeof t||r(t)&&a(t)==o}t.exports=i}}]);