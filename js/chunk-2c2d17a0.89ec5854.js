(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2c2d17a0"],{"0ccb":function(t,a,e){"use strict";var n=e("e330"),s=e("50c4"),i=e("577e"),o=e("1148"),r=e("1d80"),c=n(o),d=n("".slice),l=Math.ceil,u=function(t){return function(a,e,n){var o,u,p=i(r(a)),m=s(e),g=p.length,h=void 0===n?" ":i(n);return m<=g||""===h?p:(o=m-g,u=c(h,l(o/h.length)),u.length>o&&(u=d(u,0,o)),t?p+u:u+p)}};t.exports={start:u(!1),end:u(!0)}},1148:function(t,a,e){"use strict";var n=e("5926"),s=e("577e"),i=e("1d80"),o=RangeError;t.exports=function(t){var a=s(i(this)),e="",r=n(t);if(r<0||r===1/0)throw new o("Wrong number of repetitions");for(;r>0;(r>>>=1)&&(a+=a))1&r&&(e+=a);return e}},"4d90":function(t,a,e){"use strict";var n=e("23e7"),s=e("0ccb").start,i=e("9a0c");n({target:"String",proto:!0,forced:i},{padStart:function(t){return s(this,t,arguments.length>1?arguments[1]:void 0)}})},"961e":function(t,a,e){},"9a0c":function(t,a,e){"use strict";var n=e("b5db");t.exports=/Version\/10(?:\.\d+){1,2}(?: [\w./]+)?(?: Mobile\/\w+)? Safari\//.test(n)},"9de6":function(t,a,e){"use strict";e("961e")},b2a5:function(t,a,e){"use strict";e.r(a);var n=function(){var t=this,a=t._self._c;return a("div",{staticClass:"dashboard-container"},[a("div",{staticClass:"buttonBox"},[a("span",[t._v("账户金额："+t._s(t.stats.agentAmount||0))]),t._v("    "),a("el-button",{staticClass:"primary",staticStyle:{"margin-right":"10px"},attrs:{type:"primary",size:"default"},on:{click:function(a){return t.apply()}}},[t._v("提现")])],1),a("br"),a("div",{staticClass:"time-selector"},[a("el-radio-group",{on:{change:t.handleTimeRangeChange},model:{value:t.timeRange,callback:function(a){t.timeRange=a},expression:"timeRange"}},[a("el-radio-button",{attrs:{label:"today"}},[t._v("今日")]),a("el-radio-button",{attrs:{label:"week"}},[t._v("最近7天")]),a("el-radio-button",{attrs:{label:"month"}},[t._v("本月")])],1),a("div",{staticClass:"date-selector"},[a("el-date-picker",{staticStyle:{"margin-left":"20px",width:"200px"},attrs:{type:"date",placeholder:"选择日期",format:"yyyy-MM-dd","value-format":"yyyy-MM-dd"},model:{value:t.selectedDate,callback:function(a){t.selectedDate=a},expression:"selectedDate"}}),a("el-button",{staticStyle:{"margin-left":"10px"},on:{click:t.selectToday}},[t._v("今天")]),a("el-button",{staticStyle:{"margin-left":"10px"},attrs:{type:"primary"},on:{click:t.searchByDate}},[t._v("搜索")])],1)],1),a("el-row",{staticClass:"stat-cards-row",attrs:{gutter:20}},t._l(t.cards,(function(e,n){return a("el-col",{key:n,staticClass:"stat-card-col"},[a("el-card",{staticClass:"stat-card",attrs:{"body-style":{padding:"20px"}}},[a("div",{staticClass:"stat-header"},[a("div",{staticClass:"stat-title"},[t._v(t._s(e.title))]),a("i",{class:e.icon+" stat-icon"})]),t.loading?[a("div",{staticClass:"skeleton-loading"},[a("div",{staticClass:"skeleton-value"}),a("div",{staticClass:"skeleton-footer"},[a("div",{staticClass:"skeleton-trend"}),a("div",{staticClass:"skeleton-compare"})])])]:[a("div",{staticClass:"stat-value"},[t._v(t._s(e.prefix)+t._s(t.stats[e.key]))]),a("div",{staticClass:"stat-footer"},[a("span",{staticClass:"trend",class:e.trend>=0?"up":"down"},[t._v(" "+t._s(e.trend>=0?"↑":"↓")+" "+t._s(Math.abs(e.trend))+"% ")]),a("span",{staticClass:"compare"},[t._v(t._s(e.compare))])])]],2)],1)})),1),a("el-divider"),a("el-dialog",{attrs:{visible:t.applyDialog,title:"提现",width:"28%",center:""},on:{"update:visible":function(a){t.applyDialog=a}},scopedSlots:t._u([{key:"footer",fn:function(){return[a("span",{staticClass:"dialog-footer"},[a("el-button",{on:{click:function(a){t.applyDialog=!1}}},[t._v("取消")]),a("el-button",{attrs:{type:"primary"},on:{click:function(a){return t.save()}}},[t._v("确认")])],1)]},proxy:!0}])},[a("div",{staticStyle:{"margin-bottom":"25px"}},[a("span",{staticStyle:{display:"inline-block","margin-right":"20px"}},[t._v("地       址")]),a("el-input",{staticClass:"input",staticStyle:{width:"75%"},attrs:{placeholder:"Tron(TRC20)"},model:{value:t.model.address,callback:function(a){t.$set(t.model,"address",a)},expression:"model.address"}})],1),a("div",{staticStyle:{"margin-bottom":"25px"}},[a("span",{staticStyle:{display:"inline-block","margin-right":"20px"}},[t._v("提币金额")]),a("el-input",{staticClass:"input",staticStyle:{width:"75%"},model:{value:t.model.amount,callback:function(a){t.$set(t.model,"amount",a)},expression:"model.amount"}})],1)])],1)},s=[],i=(e("99af"),e("4d90"),e("d3b7"),e("b775")),o=function(t){return new Promise((function(a,e){Object(i["a"])({url:"/statistics/getStatistics",method:"post",params:t}).then((function(t){a(t.data)})).catch((function(t){e(t)}))}))},r=function(t){return new Promise((function(a,e){Object(i["a"])({url:"/agency/withdraw/apply",headers:{"Content-Type":"application/x-www-form-urlencoded"},method:"post",params:t}).then((function(t){a(t.data)})).catch((function(t){e(t)}))}))},c=function(t){return new Promise((function(a,e){Object(i["a"])({url:"/statistics/getStatistics7Days",method:"post",params:t}).then((function(t){a(t.data)})).catch((function(t){e(t)}))}))},d=function(t){return new Promise((function(a,e){Object(i["a"])({url:"/statistics/getStatisticsCurrentMonth",method:"post",params:t}).then((function(t){a(t.data)})).catch((function(t){e(t)}))}))},l={name:"Dashboard",data:function(){return{loading:!0,applyDialog:!1,timeRange:"today",selectedDate:"",cards:[{title:"访问数",icon:"el-icon-user",key:"visits",prefix:"",trend:12,compare:"较昨日"},{title:"APP安装数",icon:"el-icon-download",key:"installs",prefix:"",trend:8,compare:"较昨日"},{title:"IOS安装",icon:"el-icon-apple",key:"iosInstall",prefix:"",trend:0,compare:"较昨日"},{title:"H5访问",icon:"el-icon-mobile-phone",key:"h5Register",prefix:"",trend:0,compare:"较昨日"},{title:"会员充值",icon:"el-icon-s-custom",key:"memberRecharge",prefix:"¥ ",trend:15,compare:"较昨日"},{title:"金币充值",icon:"el-icon-coin",key:"coinRecharge",prefix:"¥ ",trend:10,compare:"较昨日"},{title:"钻石充值",icon:"el-icon-diamond",key:"diamondRecharge",prefix:"¥ ",trend:0,compare:"较昨日"},{title:"提现金额",icon:"el-icon-money",key:"withdraw",prefix:"¥ ",trend:5,compare:"较昨日"},{title:"待审核金额",icon:"el-icon-wallet",key:"pendingAmount",prefix:"¥ ",trend:3,compare:"较昨日"},{title:"待审核订单数",icon:"el-icon-s-order",key:"pendingOrders",prefix:"",trend:7,compare:"较昨日"},{title:"利润",icon:"el-icon-data-line",key:"profit",prefix:"¥ ",trend:18,compare:"较昨日"}],stats:{visits:0,installs:0,memberRecharge:0,coinRecharge:0,diamondRecharge:0,withdraw:0,pendingAmount:0,pendingOrders:0,profit:0,agentAmount:0,iosInstall:0,h5Register:0},model:{address:"",amount:0}}},created:function(){this.initDate()},mounted:function(){var t=this;setTimeout((function(){t.loading=!1}),1500)},methods:{initDate:function(){var t=this,a={};this.selectedDate&&(a.date=this.selectedDate),o(a).then((function(a){console.log(a),t.stats.visits=a.data.visitCount||0,t.stats.memberRecharge=a.data.memberRecharge||0,t.stats.coinRecharge=a.data.coinRecharge||0,t.stats.diamondRecharge=a.data.diamondRecharge||a.data.diamond||0,t.stats.withdraw=a.data.withdrawAmount||0,t.stats.pendingAmount=a.data.pendingAmount||0,t.stats.pendingOrders=a.data.pendingOrderCount||0,t.stats.profit=a.data.profit||0,t.stats.installs=a.data.appInstallCount||0,t.stats.agentAmount=a.data.agentAmount||0,t.stats.iosInstall=a.data.iosInstallCount||a.data.iosInstall||0,t.stats.h5Register=a.data.h5RegisterCount||a.data.h5Register||0,t.loading=!1})).catch((function(a){console.error("获取统计数据失败:",a),t.$message.error("获取数据失败"),t.loading=!1}))},selectToday:function(){var t=new Date,a=t.getFullYear(),e=String(t.getMonth()+1).padStart(2,"0"),n=String(t.getDate()).padStart(2,"0");this.selectedDate="".concat(a,"-").concat(e,"-").concat(n),this.searchByDate()},searchByDate:function(){var t=this;this.selectedDate?(this.loading=!0,setTimeout((function(){t.initDate(),t.loading=!1}),500)):this.$message.warning("请选择日期")},handleTimeRangeChange:function(t){switch(this.loading=!0,this.selectedDate="",t){case"today":this.initDate();break;case"week":this.initDate7Days();break;case"month":this.initDateCurrentMonth();break}},initDate7Days:function(){var t=this;c({}).then((function(a){console.log(a),t.stats.visits=a.data.visitCount||0,t.stats.memberRecharge=a.data.memberRecharge||0,t.stats.coinRecharge=a.data.coinRecharge||0,t.stats.diamondRecharge=a.data.diamondRecharge||a.data.diamond||0,t.stats.withdraw=a.data.withdrawAmount||0,t.stats.pendingAmount=a.data.pendingAmount||0,t.stats.pendingOrders=a.data.pendingOrderCount||0,t.stats.profit=a.data.profit||0,t.stats.installs=a.data.appInstallCount||0,t.stats.agentAmount=a.data.agentAmount||0,t.stats.iosInstall=a.data.iosInstallCount||a.data.iosInstall||0,t.stats.h5Register=a.data.h5RegisterCount||a.data.h5Register||0,t.loading=!1})).catch((function(a){console.error("获取最近7天数据失败:",a),t.$message.error("获取数据失败"),t.loading=!1}))},initDateCurrentMonth:function(){var t=this;d({}).then((function(a){console.log(a),t.stats.visits=a.data.visitCount||0,t.stats.memberRecharge=a.data.memberRecharge||0,t.stats.coinRecharge=a.data.coinRecharge||0,t.stats.diamondRecharge=a.data.diamondRecharge||a.data.diamond||0,t.stats.withdraw=a.data.withdrawAmount||0,t.stats.pendingAmount=a.data.pendingAmount||0,t.stats.pendingOrders=a.data.pendingOrderCount||0,t.stats.profit=a.data.profit||0,t.stats.installs=a.data.appInstallCount||0,t.stats.agentAmount=a.data.agentAmount||0,t.stats.iosInstall=a.data.iosInstallCount||a.data.iosInstall||0,t.stats.h5Register=a.data.h5RegisterCount||a.data.h5Register||0,t.loading=!1})).catch((function(a){console.error("获取本月数据失败:",a),t.$message.error("获取数据失败"),t.loading=!1}))},apply:function(){this.applyDialog=!0,this.model.address="",this.model.amount=0},save:function(){var t=this,a=this.model;r({address:a.address,amount:a.amount}).then((function(a){0!=a.code&&t.$message.error(a.msg),t.initDate()})),this.applyDialog=!1}}},u=l,p=(e("9de6"),e("2877")),m=Object(p["a"])(u,n,s,!1,null,"4e425eee",null);a["default"]=m.exports}}]);